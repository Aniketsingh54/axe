{
  "version": 3,
  "sources": ["../../../../../../src/trigger/client.ts"],
  "sourcesContent": ["import { tasks } from \"@trigger.dev/sdk/v3\";\n\n/**\n * Trigger client helper for triggering tasks from within Next.js\n */\nexport const triggerClient = {\n  trigger: async (taskId: string, payload: Record<string, unknown>) => {\n    // Basic fire-and-forget (returns handle)\n    return await tasks.trigger(taskId, payload);\n  },\n  triggerAndWait: async (taskId: string, payload: Record<string, unknown>) => {\n    // Wait for completion and return result\n    // Trigger.dev v3 SDK has triggerAndPoll\n    const run = await tasks.triggerAndPoll(taskId, payload);\n\n    if (run.status === \"COMPLETED\") {\n      console.log(`[triggerAndWait] Task ${taskId} completed. Output:`, JSON.stringify(run.output, null, 2));\n      return run.output;\n    } else {\n      console.error(`[triggerAndWait] Task ${taskId} failed:`, JSON.stringify(run, null, 2));\n      const errorMsg = (run as any).error?.message || JSON.stringify((run as any).error);\n      throw new Error(`Task ${taskId} failed: ${errorMsg || run.status}`);\n    }\n  }\n};\n\nexport { tasks };"],
  "mappings": ";;;;;;;;AAAA;AAKO,IAAM,gBAAgB;AAAA,EAC3B,SAAS,OAAO,QAAgB,YAAqC;AAEnE,WAAO,MAAM,MAAM,QAAQ,QAAQ,OAAO;AAAA,EAC5C;AAAA,EACA,gBAAgB,OAAO,QAAgB,YAAqC;AAG1E,UAAM,MAAM,MAAM,MAAM,eAAe,QAAQ,OAAO;AAEtD,QAAI,IAAI,WAAW,aAAa;AAC9B,cAAQ,IAAI,yBAAyB,MAAM,uBAAuB,KAAK,UAAU,IAAI,QAAQ,MAAM,CAAC,CAAC;AACrG,aAAO,IAAI;AAAA,IACb,OAAO;AACL,cAAQ,MAAM,yBAAyB,MAAM,YAAY,KAAK,UAAU,KAAK,MAAM,CAAC,CAAC;AACrF,YAAM,WAAY,IAAY,OAAO,WAAW,KAAK,UAAW,IAAY,KAAK;AACjF,YAAM,IAAI,MAAM,QAAQ,MAAM,YAAY,YAAY,IAAI,MAAM,EAAE;AAAA,IACpE;AAAA,EACF;AACF;",
  "names": []
}
